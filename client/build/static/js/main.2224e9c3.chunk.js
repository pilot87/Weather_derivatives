(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{51:function(e,t,a){},75:function(e,t,a){"use strict";a.r(t),a.d(t,"history",(function(){return Ue}));var c=a(1),r=a.n(c),s=a(24),n=a.n(s),i=a(11),l=a(41);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(51);var o=a(2),d=a.n(o),j=a(6),u=a(3),b=a(7),h=a(15),m=a(0);console.log("NODE_ENV"),/\/[a-zA-Z0-9_]*/.exec(window.location.pathname)[0];var p=function(){return Object(m.jsxs)("div",{className:"grey-text text-darken-3 signature",children:[Object(m.jsxs)("p",{className:"simple",children:["Code placed at ",Object(m.jsx)("a",{href:"https://github.com/pilot87/Weather_derivatives",children:"GitHub"})]}),Object(m.jsx)("p",{className:"simple",children:"Alexey Kostylev aka Kernel Explorer"}),Object(m.jsxs)("p",{className:"simple",children:["My Upwork profile: ",Object(m.jsx)("a",{href:"https://www.upwork.com/fl/kernelexplorer",children:"Kernel Explorer"})]})]})},x=a(18),O={name:"",email:"",token:""};try{O=JSON.parse(document.cookie)}catch(Me){document.cookie=JSON.stringify(O)}var g="";g=/\/[a-zA-Z0-9_]*/.exec(window.location.pathname)[0];var v={name:O.name,email:O.email,balance:0,base:g,request_params:{baseURL:g+"/api",timeout:3e4,headers:{"Content-Type":"application/json",Authorization:O.token}}},f=Object(x.b)({name:"auth",initialState:v,reducers:{setSession:function(e,t){var a=t.payload,c=a.name,r=a.email,s={name:c,email:r,token:"Bearer "+a.token};document.cookie=JSON.stringify(s),e.name=c,e.email=r,e.request_params={baseURL:"/wf/api",timeout:3e4,headers:{"Content-Type":"application/json",Authorization:s.token}}},rename:function(e,t){var a=JSON.parse(document.cookie);a.name=t.payload,document.cookie=JSON.stringify(a),e.name=t.payload},updBalance:function(e,t){var a=t.payload.balance;e.balance=a}}}),N=f.actions,w=N.setSession,y=N.rename,_=N.updBalance,k=f.reducer,S=a(16),F=a.p+"static/media/HongKong.c306e26e.webp",C=a.p+"static/media/San Francisco.acb10179.webp",P=a.p+"static/media/NewYork.1581e0a7.webp",U=[F,C,a.p+"static/media/Paris.4922d841.webp",P],E={city:{},page:new Array(U.length).fill({index:0,active:["green lighten-4","",""]})},q=Object(x.b)({name:"stats",initialState:E,reducers:{update_stat:function(e,t){for(var a=0,c=Object.entries(t.payload);a<c.length;a++){var r=Object(S.a)(c[a],2),s=r[0],n=r[1];e.city[s]=n}},page_city_push:function(e,t){e.page.push(t.payload)},page_city_change:function(e,t){e.page[t.payload.index]=t.payload.payload}}}),M=q.actions,B=M.update_stat,R=(M.page_city_push,M.page_city_change),T=q.reducer,H=a(32),D=a(26),L=Object(x.b)({name:"derivative",initialState:{daily:{},page:{city:"",temp:{temp:"0",image:"wb_sunny"},rich:!0,tempRate:"0 USD",quantity:"1",private_derivative:!0}},reducers:{init_page:function(e,t){e.page=t.payload},setCity:function(e,t){e.page.city=t.payload},setTemp:function(e,t){e.page.temp=t.payload},setRich:function(e,t){e.page.rich=t.payload},setTempRate:function(e,t){e.page.tempRate=t.payload},setQuantity:function(e,t){e.page.quantity=t.payload},setPrivate_derivative:function(e,t){e.page.private_derivative=t.payload},update_rate:function(e,t){t.payload.city in e.daily||(e.daily[t.payload.city]={temp:[],rate:[],rate2:[],expected_value:0,standard_deviation:0}),e.daily[t.payload.city]={temp:t.payload.temp,rate:t.payload.rate,rate2:t.payload.rate2,standard_deviation:t.payload.standard_deviation,expected_value:t.payload.expected_value}}}}),z=L.actions,A=z.update_rate,W=z.init_page,I=z.setCity,J=z.setTemp,Q=z.setRich,V=z.setTempRate,Z=z.setQuantity,K=z.setPrivate_derivative,$=L.reducer,G=a(19).default,Y=function(e){return new Promise((function(t){return setTimeout(t,e)}))},X=function(e,t,a,c){var r;return 0===e?r=a<t?0:1:(r=Math.round(1e5*function(e){var t=1/(1+.2316419*Math.abs(e)),a=.3989423*Math.exp(-e*e/2)*t*(.3193815+t*(t*(1.781478+t*(1.330274*t-1.821256))-.3565638));return e>0&&(a=1-a),a}((a-t)/e))/1e5,c&&(r=1-r)),1.05*r},ee=function(){var e=Object(j.a)(d.a.mark((function e(t,a,c){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("upd"),e.abrupt("return",G.create(a().auth.request_params).post("/derivative/daily_params").then((function(e){if(e.data.stats.forEach((function(e){var a,c,r=2;do{a=[],c=[];for(var s=0;s<5;s++)a.push(e.expected_value-(2-s)*r);var n,i=Object(H.a)(a);try{for(i.s();!(n=i.n()).done;){var l=n.value,o=X(e.standard_deviation,e.expected_value,l,!0);c.push(o)}}catch(h){i.e(h)}finally{i.f()}r/=2}while(Math.max.apply(Math,Object(D.a)(c))>1);var d,j=[],u=Object(H.a)(c);try{for(u.s();!(d=u.n()).done;){var b=d.value;j.push(1-b)}}catch(h){u.e(h)}finally{u.f()}t(A({city:e.name,rate:c,rate2:j,temp:a,expected_value:e.expected_value,standard_deviation:e.standard_deviation}))})),""===a().derivative.page.city){var c=Object.keys(a().weather.weather)[0];console.log(c),t(W({city:c,temp:{temp:"0",image:"wb_sunny"},quantity:"1",tempRate:Math.round(1e4*(X(a().derivative.daily[c].standard_deviation,a().derivative.daily[c].expected_value,0,!0)+Number.EPSILON))/100+" %",private_derivative:!0,rich:!0}))}})).catch((function(e){return console.log(e)})));case 2:case"end":return e.stop()}}),e)})));return function(t,a,c){return e.apply(this,arguments)}}(),te=function(e,t){var a=t().derivative.page.city,c=X(t().derivative.daily[a].standard_deviation,t().derivative.daily[a].expected_value,t().derivative.page.temp.temp,t().derivative.page.rich);console.log(c),e(V(Math.round(1e4*(c+Number.EPSILON))/100+" %"))},ae=a(19).default,ce=function(e){return new Promise((function(t){return setTimeout(t,e)}))},re=function(){var e=Object(j.a)(d.a.mark((function e(t,a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===a().auth.name){e.next=4;break}return e.abrupt("return",ae.create(a().auth.request_params).post("/profile/balance").then((function(e){t(_(e.data))})));case 4:return e.abrupt("return",-1);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),se=function(){return function(){var e=Object(j.a)(d.a.mark((function e(t,a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",re(t,a));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},ne=a(10),ie=a(8),le=a(19).default,oe=a(19).default,de=a(19).default;console.log("NODE_ENV"),/\/[a-zA-Z0-9_]*/.exec(window.location.pathname)[0];console.log("NODE_ENV"),/\/[a-zA-Z0-9_]*/.exec(window.location.pathname)[0];var je=Object(x.b)({name:"weather",initialState:{weather:{},page:{temp:{temp:"0",image:"wb_sunny"},quantity:"1",rich:!0,city:"Moscow",rate:"0 %",amount:"0 USD",hidden:!0}},reducers:{update_weather:function(e,t){e.weather=t.payload}}}),ue=je.actions.update_weather,be=je.reducer,he=Object(x.a)({reducer:{auth:k,weather:be,derivative:$,stats:T}}),me=a(19).default,pe=a(19).default,xe=function(e){return new Promise((function(t){return setTimeout(t,e)}))},Oe=function(){var e=Object(j.a)(d.a.mark((function e(t,a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",pe.create(a().auth.request_params).post("/weather/update").then((function(e){t(ue(e.data))})));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),ge=a(19).default,ve=function(e){return new Promise((function(t){return setTimeout(t,e)}))},fe=function(){var e=Object(j.a)(d.a.mark((function e(t,a){var c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("useState"),c="/derivative/stats",""===a().auth.name&&(c="/derivative/pub_stats"),console.log(c),e.abrupt("return",ge.create(a().auth.request_params).post(c).then((function(e){t(B(e.data.stats))})).catch((function(e){return console.log(e)})));case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Ne=Object(h.b)((function(){return function(e){return{stats:e.stats,baseUrl:e.auth.base}}}),{page_city_change:R})((function(e){var t=e.stats,a=e.page_city_change,c=(e.baseUrl,Object.entries(t.city).map((function(e,c){var r=["No futures","Quantity of futures: "+e[1].length,""];0!==e[1].length&&(r[0]=e[1].map((function(e,t){return function(e,t){return Object(m.jsx)("table",{className:[0].map((function(e){return t%2===0?"striped collection-item yellow lighten-4 grey-text text-darken-3":"striped collection-item green lighten-4 grey-text text-darken-3"}))[0],children:Object(m.jsxs)("tbody",{children:[Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:"Completed"}),Object(m.jsx)("td",{className:"statistics_table_right",children:e.completed.toString()})]}),Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:"Paid"}),Object(m.jsx)("td",{className:"statistics_table_right",children:e.paid+" USD"})]}),Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:"Temperature"}),Object(m.jsx)("td",{className:"statistics_table_right",children:e.temp})]}),Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:"Quantity"}),Object(m.jsx)("td",{className:"statistics_table_right",children:e.quantity})]}),Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:"Rises above"}),Object(m.jsx)("td",{className:"statistics_table_right",children:e.temp_reach.toString()})]}),Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:"Privacy"}),Object(m.jsx)("td",{className:"statistics_table_right",children:e.hidden.toString()})]}),Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:"Duration"}),Object(m.jsx)("td",{className:"statistics_table_right",children:e.duration})]}),Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:"Duration left"}),Object(m.jsx)("td",{className:"statistics_table_right",children:e.duration_left})]}),Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:"Buyer"}),Object(m.jsx)("td",{className:"statistics_table_right",children:e.email})]})]})})}(e,t)}))),void 0===t.page[c]&&window.location.assign("about");var s=[];return s.push(Object(m.jsxs)("div",{className:"card",children:[Object(m.jsxs)("div",{className:"card-image",children:[Object(m.jsx)("img",{className:"statistics_img",src:U[c],alt:e[0]}),Object(m.jsx)("span",{className:"card-title",children:e[0]})]}),Object(m.jsx)("div",{className:"card-tabs",children:Object(m.jsxs)("ul",{className:"tabs tabs-fixed-width",children:[Object(m.jsx)("li",{className:"tab statistics_pointer",onClick:function(){a({index:c,payload:{index:0,active:["green lighten-4","",""]}})},children:Object(m.jsx)("p",{className:t.page[c].active[0],children:"Futures"})}),Object(m.jsx)("li",{className:"tab statistics_pointer",onClick:function(){a({index:c,payload:{index:1,active:["","green lighten-4",""]}})},children:Object(m.jsx)("p",{className:t.page[c].active[1],children:"Statistic"})})]})})]})),s.concat(r[t.page[c].index])}))),r=[],s=0;do{r.push(Object(m.jsx)("tr",{children:c.map((function(e){return e.length>s?Object(m.jsx)("td",{className:"",children:e[s]}):Object(m.jsx)("td",{})}))})),s++}while(Math.max.apply(Math,Object(D.a)(c.map((function(e){return e.length}))))>s);return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("nav",{children:Object(m.jsx)("div",{className:"nav-wrapper",children:Object(m.jsxs)("div",{className:"col s12",children:[Object(m.jsx)(u.b,{to:"/",className:"breadcrumb",children:"Home"}),Object(m.jsx)(u.b,{to:"/statistic",className:"breadcrumb",children:"Statistic"})]})})}),Object(m.jsx)("table",{children:Object(m.jsx)("tbody",{children:r})})]})})),we=Object(h.b)((function(){return function(e){return{auth:e.auth,baseUrl:e.auth.base}}}))((function(e){var t=e.auth.name;return""===t?Object(m.jsx)("nav",{children:Object(m.jsxs)("div",{className:"nav-wrapper",children:[Object(m.jsx)(u.b,{to:"/",className:"brand-logo",children:"Forecast trading emulator"}),Object(m.jsxs)("ul",{id:"nav-mobile",className:"right hide-on-med-and-down",children:[Object(m.jsx)("li",{children:Object(m.jsx)(u.b,{to:"/weather",children:"Weather"})}),Object(m.jsx)("li",{children:Object(m.jsx)(u.b,{to:"/statistic",children:"Statistic"})}),Object(m.jsx)("li",{children:Object(m.jsx)(u.b,{to:"/",children:"Futures"})}),Object(m.jsx)("li",{children:Object(m.jsx)(u.b,{to:"/login",children:"Hello, guest!"})})]})]})}):Object(m.jsx)("nav",{children:Object(m.jsxs)("div",{className:"nav-wrapper",children:[Object(m.jsx)(u.b,{to:"/",className:"brand-logo",children:"Forecast trading emulator"}),Object(m.jsxs)("ul",{id:"nav-mobile",className:"right hide-on-med-and-down",children:[Object(m.jsx)("li",{children:Object(m.jsx)(u.b,{to:"/weather",children:"Weather"})}),Object(m.jsx)("li",{children:Object(m.jsx)(u.b,{to:"/statistic",children:"Statistic"})}),Object(m.jsx)("li",{children:Object(m.jsx)(u.b,{to:"/",children:"Futures"})}),Object(m.jsx)("li",{children:Object(m.jsxs)(u.b,{to:"/about",children:["Hello, ",t,"!"]})})]})]})})})),ye=Object(h.b)((function(){return function(e){return{auth:e.auth,baseUrl:e.auth.base}}}),{rename:y,setSession:w,updateBalance:se})((function(e){var t=e.auth,a=e.rename,r=e.setSession,s=(e.baseUrl,e.updateBalance),n=Object(c.useState)({username:{msg:"",state:""},password:{msg:"",state:""}}),i=Object(S.a)(n,2),l=i[0],o=i[1],d=Object(c.useState)({message:"",color:"gray"}),j=Object(S.a)(d,2),b=j[0],h=j[1],p=Object(c.useState)({message:"",color:"gray"}),x=Object(S.a)(p,2),O=x[0],g=x[1],v=function(e){o(Object(ie.a)(Object(ie.a)({},l),{},Object(ne.a)({},e.target.name,{msg:e.target.value,state:" active"})))},f=function(e){o(Object(ie.a)(Object(ie.a)({},l),{},Object(ne.a)({},e.target.name,{msg:e.target.value,state:" active"})))},N=function(e){""===e.target.value&&o(Object(ie.a)(Object(ie.a)({},l),{},Object(ne.a)({},e.target.name,{msg:e.target.value,state:""})))},w=de.create(t.request_params);return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("nav",{children:Object(m.jsx)("div",{className:"nav-wrapper",children:Object(m.jsxs)("div",{className:"col s12",children:[Object(m.jsx)(u.b,{to:"/",className:"breadcrumb",children:"Home"}),Object(m.jsx)(u.b,{to:"/about",className:"breadcrumb",children:"About"})]})})}),Object(m.jsxs)("div",{className:"row about_container",children:[Object(m.jsx)("div",{className:"row",children:Object(m.jsxs)("div",{className:"collection about_internal_container",children:[Object(m.jsx)("p",{className:"collection-item black-text",children:"Email:    "+t.email}),Object(m.jsx)("p",{className:"collection-item black-text",children:"Username: "+t.name}),Object(m.jsx)("p",{className:"collection-item black-text",children:"Balance:    "+t.balance})]})}),Object(m.jsx)("div",{className:"card-action",children:Object(m.jsx)("button",{className:"btn about_btn green lighten-2 black-text",onClick:function(){w.post("/profile/reset_balance",{username:l.username.msg}).then((function(e){s()})).catch((function(e){return h({message:e.response.data.message,color:"red"})}))},children:"Reset balance to 100 000 USD"})}),Object(m.jsx)("form",{className:"col s12",children:Object(m.jsx)("div",{className:"row",children:Object(m.jsxs)("div",{className:"input-field col s6",children:[Object(m.jsx)("i",{className:"material-icons prefix",children:"border_color"}),Object(m.jsx)("input",{id:"username",name:"username",type:"text",value:l.username.msg,onChange:v,onFocus:f,onBlur:N}),Object(m.jsx)("label",{htmlFor:"username",className:"username"+l.username.state,children:"New username"})]})})}),Object(m.jsx)("div",{className:"card-action",children:Object(m.jsx)("button",{className:"btn about_btn green lighten-2 black-text",onClick:function(){w.post("/profile/rename",{username:l.username.msg}).then((function(e){a(e.data.username),h({message:"Welcome, "+e.data.username+"!",color:"green"})})).catch((function(e){return h({message:e.response.data.message,color:"red"})}))},children:"Change username"})}),Object(m.jsx)("div",{className:"alert "+b.color+"-text text-lighten-1",children:b.message}),Object(m.jsx)("form",{className:"col s12",children:Object(m.jsx)("div",{className:"row",children:Object(m.jsxs)("div",{className:"input-field col s6",children:[Object(m.jsx)("i",{className:"material-icons prefix",children:"more_horiz"}),Object(m.jsx)("input",{id:"password",name:"password",type:"password",value:l.password.msg,onChange:v,onFocus:f,onBlur:N}),Object(m.jsx)("label",{htmlFor:"password",className:"password"+l.password.state,children:"New password"})]})})}),Object(m.jsx)("div",{className:"card-action",children:Object(m.jsx)("button",{className:"btn about_btn green lighten-2 black-text",onClick:function(){w.post("/profile/chpasswd",{password:l.password.msg}).then((function(e){g({message:"Password has changed",color:"green"})})).catch((function(e){return g({message:e.response.data.message,color:"red"})}))},children:"Change password"})}),Object(m.jsx)("div",{className:"alert "+O.color+"-text text-lighten-1",children:O.message}),Object(m.jsx)("div",{className:"card-action about_card_btn",children:Object(m.jsx)("button",{className:"btn about_btn green lighten-2 black-text",onClick:function(){r({email:"",name:"",token:""}),window.location.assign("login")},children:"Logout"})})]})]})})),_e=Object(h.b)((function(){return function(e){return{auth:e.auth,baseUrl:e.auth.base}}}))((function(e){var t=e.auth,a=(e.baseUrl,Object(c.useState)({email:{msg:"",state:"adduser_label"},password:{msg:"",state:"adduser_label"},username:{msg:"",state:"adduser_label"}})),r=Object(S.a)(a,2),s=r[0],n=r[1],i=Object(c.useState)({message:"",color:"gray",errors:{email:"",password:"",username:""}}),l=Object(S.a)(i,2),o=l[0],b=l[1],h=function(e){n(Object(ie.a)(Object(ie.a)({},s),{},Object(ne.a)({},e.target.name,{msg:e.target.value,state:"adduser_label active"})))},p=function(e){n(Object(ie.a)(Object(ie.a)({},s),{},Object(ne.a)({},e.target.name,{msg:e.target.value,state:"adduser_label active"})))},x=function(e){""===e.target.value&&n(Object(ie.a)(Object(ie.a)({},s),{},Object(ne.a)({},e.target.name,{msg:e.target.value,state:"adduser_label"})))},O=oe.create(t.request_params),g=function(){var e=Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=function(e){var t={email:"",password:"",username:""},a=e.find((function(e){return"email"===e.param}));a&&(t.email=a.msg);var c=e.find((function(e){return"username"===e.param}));c&&(t.username=c.msg);var r=e.find((function(e){return"password"===e.param}));return r&&(t.password=r.msg),t},O.post("/auth/register",{email:s.email.msg,username:s.username.msg,password:s.password.msg}).then((function(e){b({message:e.data.message,color:"green",errors:{email:"",password:"",username:""}}),window.location.assign("login")})).catch((function(e){return b({message:null!=e.response.data?e.response.data.message:e.data.message,color:"red",errors:e.response&&e.response.data.errors?t(e.response.data.errors):{email:"",password:"",username:""}})}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("nav",{children:Object(m.jsx)("div",{className:"nav-wrapper",children:Object(m.jsxs)("div",{className:"col s12",children:[Object(m.jsx)(u.b,{to:"/",className:"breadcrumb",children:"Home"}),Object(m.jsx)(u.b,{to:"/register",className:"breadcrumb",children:"Register"})]})})}),Object(m.jsxs)("form",{action:"../.html",className:"col autocomplete-content s12",children:[Object(m.jsxs)("div",{className:"row",children:[Object(m.jsxs)("div",{className:"input-field col s6",children:[Object(m.jsx)("i",{className:"material-icons prefix",children:"email"}),Object(m.jsx)("input",{id:"email",name:"email",type:"text",value:s.email.msg,onChange:h,onFocus:p,onBlur:x}),Object(m.jsx)("label",{htmlFor:"email",className:s.email.state,children:"Email"})]}),Object(m.jsx)("div",{className:"row adduser_error",children:o.errors.email})]}),Object(m.jsxs)("div",{className:"row",children:[Object(m.jsxs)("div",{className:"input-field col s6",children:[Object(m.jsx)("i",{className:"material-icons prefix",children:"border_color"}),Object(m.jsx)("input",{id:"username",name:"username",type:"text",value:s.username.msg,onChange:h,onFocus:p,onBlur:x}),Object(m.jsx)("label",{htmlFor:"username",className:s.username.state,children:"User name"})]}),Object(m.jsx)("div",{className:"row adduser_error",children:o.errors.username})]}),Object(m.jsxs)("div",{className:"row",children:[Object(m.jsxs)("div",{className:"input-field col s6",children:[Object(m.jsx)("i",{className:"material-icons prefix",children:"more_horiz"}),Object(m.jsx)("input",{id:"password",name:"password",type:"password",value:s.password.msg,onChange:h,onFocus:p,onBlur:x}),Object(m.jsx)("label",{htmlFor:"password",className:s.password.state,children:"Password"})]}),Object(m.jsx)("div",{className:"row adduser_error",children:o.errors.password})]})]}),Object(m.jsx)("div",{className:"card-action",children:Object(m.jsx)("button",{className:"btn adduser_btn green lighten-2 black-text",onClick:g,children:"Register new User"})}),Object(m.jsx)("br",{}),Object(m.jsx)("div",{className:"alert adduser_alert "+o.color+"-text text-lighten-1",children:o.message})]})})),ke=Object(h.b)((function(){return function(e){return{weather:e.weather,baseUrl:e.auth.base}}}))((function(e){var t=e.weather,a=(e.baseUrl,Object(b.g)().city),c=Object(m.jsx)("div",{className:"progress",children:Object(m.jsx)("div",{className:"indeterminate"})});return void 0!==t.weather[a]&&(c=t.weather[a].hourly_temp.map((function(e,c){return Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:3*c}),Object(m.jsx)("td",{children:t.weather[a].hourly_temp[c]}),Object(m.jsx)("td",{children:t.weather[a].hourly_wind_speed[c]}),Object(m.jsx)("td",{children:t.weather[a].hourly_clouds[c]}),Object(m.jsx)("td",{children:t.weather[a].hourly_pressure[c]}),Object(m.jsx)("td",{children:t.weather[a].hourly_humidity[c]}),Object(m.jsx)("td",{children:t.weather[a].hourly_visibility[c]})]})}))),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("nav",{children:Object(m.jsx)("div",{className:"nav-wrapper",children:Object(m.jsxs)("div",{className:"col s12",children:[Object(m.jsx)(u.b,{to:"/",className:"breadcrumb",children:"Home"}),Object(m.jsx)(u.b,{to:"/weather",className:"breadcrumb",children:"Weather"}),Object(m.jsx)(u.b,{to:"/weather/"+a,className:"breadcrumb",children:"Forecast for "+a})]})})}),Object(m.jsxs)("table",{children:[Object(m.jsx)("thead",{children:Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{children:"Hours"}),Object(m.jsx)("th",{children:"Temperature"}),Object(m.jsx)("th",{children:"Wind speed"}),Object(m.jsx)("th",{children:"Cloudiness"}),Object(m.jsx)("th",{children:"Pressure"}),Object(m.jsx)("th",{children:"Humidity"}),Object(m.jsx)("th",{children:"Visibility"})]})}),Object(m.jsx)("tbody",{children:c})]})]})})),Se=Object(h.b)((function(){return function(e){return{weather:e.weather,baseUrl:e.auth.base}}}))((function(e){var t=e.weather,a=(e.baseUrl,Object.entries(t.weather).map((function(e,t){return Object(m.jsx)("td",{children:Object(m.jsx)(u.b,{to:"/forecast/"+e[0],children:Object(m.jsxs)("div",{className:"card",children:[Object(m.jsxs)("div",{className:"card-image",children:[Object(m.jsx)("img",{src:U[t],alt:e[0],className:"weather_img"}),Object(m.jsx)("span",{className:"card-title",children:e[0]})]}),Object(m.jsx)("div",{className:"card-content black-text",children:Object(m.jsx)("table",{children:Object(m.jsxs)("tbody",{children:[Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:"Temperature"}),Object(m.jsx)("td",{className:"weather_table_right",children:Math.round(100*(e[1].current_temp+Number.EPSILON))/100+" \xb0\u0421"})]}),Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:"Wind speed"}),Object(m.jsx)("td",{className:"weather_table_right",children:e[1].current_wind_speed+" meter/sec"})]}),Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:"Cloudiness"}),Object(m.jsx)("td",{className:"weather_table_right",children:e[1].current_clouds+" %"})]}),Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:"Pressure"}),Object(m.jsx)("td",{className:"weather_table_right",children:e[1].current_pressure+" hPa"})]}),Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:"Humidity"}),Object(m.jsx)("td",{className:"weather_table_right",children:e[1].current_humidity+" %"})]}),Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:"Visibility"}),Object(m.jsx)("td",{className:"weather_table_right",children:e[1].current_visibility+" metres"})]})]})})})]})})})})));return a===[]&&(a=Object(m.jsx)("div",{className:"progress",children:Object(m.jsx)("div",{className:"indeterminate"})})),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("nav",{children:Object(m.jsx)("div",{className:"nav-wrapper",children:Object(m.jsxs)("div",{className:"col s12",children:[Object(m.jsx)(u.b,{to:"/",className:"breadcrumb",children:"Home"}),Object(m.jsx)(u.b,{to:"/weather",className:"breadcrumb",children:"Weather"})]})})}),Object(m.jsx)("table",{children:Object(m.jsx)("tr",{children:a})})]})})),Fe=Object(h.b)((function(){return function(e){return{auth:e.auth,baseUrl:e.auth.base}}}),{setSession:w})((function(e){var t=e.auth,a=e.setSession;e.baseUrl;console.log(t);var r=Object(c.useState)({email:{msg:"",state:""},password:{msg:"",state:""}}),s=Object(S.a)(r,2),n=s[0],i=s[1],l=Object(c.useState)({message:"",color:"gray"}),o=Object(S.a)(l,2),d=o[0],j=o[1],b=function(e){i(Object(ie.a)(Object(ie.a)({},n),{},Object(ne.a)({},e.target.name,{msg:e.target.value,state:" active"})))},h=function(e){i(Object(ie.a)(Object(ie.a)({},n),{},Object(ne.a)({},e.target.name,{msg:e.target.value,state:" active"})))},p=function(e){""===e.target.value&&i(Object(ie.a)(Object(ie.a)({},n),{},Object(ne.a)({},e.target.name,{msg:e.target.value,state:""})))},x=le.create(t.request_params);return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("nav",{children:Object(m.jsx)("div",{className:"nav-wrapper",children:Object(m.jsxs)("div",{className:"col s12",children:[Object(m.jsx)(u.b,{to:"/",className:"breadcrumb",children:"Home"}),Object(m.jsx)(u.b,{to:"/login",className:"breadcrumb",children:"Login"})]})})}),Object(m.jsxs)("div",{className:"row login_cont",children:[Object(m.jsx)("form",{className:"col s12",children:Object(m.jsxs)("div",{className:"row",children:[Object(m.jsxs)("div",{className:"input-field col s6",children:[Object(m.jsx)("i",{className:"material-icons prefix",children:"email"}),Object(m.jsx)("input",{id:"email",name:"email",type:"text",value:n.email.msg,onChange:b,onFocus:h,onBlur:p}),Object(m.jsx)("label",{htmlFor:"email",className:"email"+n.email.state,children:"Email"})]}),Object(m.jsxs)("div",{className:"input-field col s6",children:[Object(m.jsx)("i",{className:"material-icons prefix",children:"more_horiz"}),Object(m.jsx)("input",{id:"password",name:"password",type:"password",value:n.password.msg,onChange:b,onFocus:h,onBlur:p}),Object(m.jsx)("label",{htmlFor:"password",className:"password"+n.password.state,children:"Password"})]})]})}),Object(m.jsxs)("div",{className:"card-action",children:[Object(m.jsx)("button",{className:"btn login_btn green lighten-2 black-text",onClick:function(){x.post("/auth/login",{email:n.email.msg,password:n.password.msg}).then((function(e){a({email:e.data.email,name:e.data.username,token:e.data.token}),j({message:"Welcome, "+e.data.username+"!",color:"green"}),window.location.assign("about")})).catch((function(e){return j({message:e.response.data?e.response.data.message:e.data.message,color:"red"})}))},children:"Login"}),Object(m.jsx)(u.b,{className:"btn register_btn grey lighten-1 black-text",to:"/register",children:"Register new User"})]}),Object(m.jsx)("div",{className:"alert login_alert "+d.color+"-text text-lighten-1",children:d.message})]})]})})),Ce=Object(h.b)((function(){return function(e){return{auth:e.auth,weather0:e.weather,derivative0:e.derivative,baseUrl:e.auth.base}}}),{changeCity:function(e){return function(){var t=Object(j.a)(d.a.mark((function t(a,c){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a(I(e)),te(a,c);case 2:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()},changeTemp:function(e){return function(){var t=Object(j.a)(d.a.mark((function t(a,c){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:/^(-?[0-9]*\.?[0-9]*)$/.test(e.target.value)&&("NaN"===Number.parseFloat(e.target.value).toString()?"-"===e.target.value?(a(J({temp:"-0",image:"ac_unit"})),te(a,c)):"."===e.target.value?(a(J({temp:"0.",image:"wb_sunny"})),te(a,c)):""===e.target.value?(a(J({temp:"0",image:"wb_sunny"})),te(a,c)):(a(J({temp:e.target.value,image:"border_color"})),te(a,c)):(console.log(e.target.value),Number.parseFloat(e.target.value)<0?(a(J({temp:e.target.value,image:"ac_unit"})),te(a,c)):(a(J({temp:e.target.value,image:"wb_sunny"})),te(a,c))));case 1:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()},changeRich:function(){return function(){var e=Object(j.a)(d.a.mark((function e(t,a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(Q(!a().derivative.page.rich)),te(t,a);case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},changeQuantity:function(e){return function(){var t=Object(j.a)(d.a.mark((function t(a,c){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:/^[1-9][0-9]*$/.test(e.target.value)&&a(Z(e.target.value)),te(a,c);case 2:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()},changePrivate_derivative:function(){return function(){var e=Object(j.a)(d.a.mark((function e(t,a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(K(!a().derivative.page.private_derivative)),te(t,a);case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()}})((function(e){var t=e.auth,a=e.weather0,c=e.derivative0,r=e.changeCity,s=e.changeTemp,n=e.changeRich,i=e.changeQuantity,l=e.changePrivate_derivative,o=c.page.city,b=c.page.temp,h=c.page.rich,p=me.create(t.request_params),x=c.daily[o],O=c.page.tempRate,g=c.page.private_derivative,v=c.page.quantity,f=Object(m.jsx)("div",{className:"progress",children:Object(m.jsx)("div",{className:"indeterminate"})});void 0!==a.weather&&(f=Object.entries(a.weather).map((function(e,t){return Object(m.jsx)("td",{onClick:function(){r(e[0])},children:Object(m.jsx)("div",{className:"card",children:Object(m.jsxs)("div",{className:"card-image",children:[Object(m.jsx)("img",{className:"futures_img",src:U[t],alt:e[0]}),Object(m.jsx)("span",{className:"card-title",children:e[0]})]})})})})));var N=Object(m.jsx)("div",{className:"progress",children:Object(m.jsx)("div",{className:"indeterminate"})});void 0!==x&&(N=x.temp.map((function(e,t){return Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:Math.round(100*(e+Number.EPSILON))/100+" \xb0C"}),Object(m.jsx)("td",{className:"text_center",children:Math.round(1e3*(x.rate[t]+Number.EPSILON))/10+" %"}),Object(m.jsx)("td",{className:"text_right",children:Math.round(1e3*(x.rate2[t]+Number.EPSILON))/10+" %"})]})})));var w,y=t.balance,_=function(){p.post("/derivative/buy",{city:o,duration:1440,temp:Number.parseFloat(b.temp),rich:h,quantity:Number.parseFloat(v),hidden:g}).then((function(){he.dispatch(se())}))},k=Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("h4",{className:"grey-text text-darken-3",children:o}),Object(m.jsx)("div",{className:"progress",children:Object(m.jsx)("div",{className:"indeterminate"})})]});return""!==o&&(k=Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("h4",{className:"grey-text text-darken-3",children:o}),Object(m.jsxs)("div",{className:"row black-text",children:[Object(m.jsx)("div",{className:"col s3",children:Object(m.jsx)("table",{children:Object(m.jsxs)("tbody",{children:[Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:"Temperature"}),Object(m.jsx)("td",{className:"text_right",children:Math.round(100*(a.weather[o].current_temp+Number.EPSILON))/100+" \xb0C"})]}),Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:"Wind speed"}),Object(m.jsx)("td",{className:"text_right",children:a.weather[o].current_wind_speed+" meter/sec"})]}),Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:"Cloudiness"}),Object(m.jsx)("td",{className:"text_right",children:a.weather[o].current_clouds+" %"})]}),Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:"Pressure"}),Object(m.jsx)("td",{className:"text_right",children:a.weather[o].current_pressure+" hPa"})]}),Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:"Humidity"}),Object(m.jsx)("td",{className:"text_right",children:a.weather[o].current_humidity+" %"})]}),Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:"Visibility"}),Object(m.jsx)("td",{className:"text_right",children:a.weather[o].current_visibility+" metres"})]})]})})}),Object(m.jsx)("div",{className:"col s3",children:Object(m.jsxs)("table",{children:[Object(m.jsx)("thead",{children:Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{children:"Temperature"}),Object(m.jsx)("th",{className:"text_center",children:"Reach rate"}),Object(m.jsx)("th",{className:"text_right",children:"Not reach rate"})]})}),Object(m.jsx)("tbody",{children:N})]})}),Object(m.jsxs)("div",{className:"col s3",children:[Object(m.jsx)("div",{className:"row",children:Object(m.jsxs)("div",{className:"input-field col s12",children:[Object(m.jsx)("i",{className:"material-icons prefix",children:b.image}),Object(m.jsx)("input",{id:"temp",name:"temp",type:"text",value:b.temp,onChange:function(){var e=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onFocus:function(e){return e.target.select()}}),Object(m.jsx)("label",{htmlFor:"temp",className:"active label_temperature grey-text text-darken-3",children:"Temperature [\xb0C]"})]})}),Object(m.jsx)("div",{className:"row",children:Object(m.jsxs)("div",{className:"input-field col s12",children:[Object(m.jsx)("i",{className:"material-icons prefix",children:"border_color"}),Object(m.jsx)("input",{id:"quantity",name:"quantity",type:"text",value:v,onChange:function(e){i(e)},onFocus:function(e){return e.target.select()}}),Object(m.jsx)("label",{htmlFor:"quantity",className:"active label_quantity grey-text text-darken-3",children:"Quantity"}),Object(m.jsxs)("label",{className:"label_rich",children:[Object(m.jsx)("input",{type:"checkbox",className:"filled-in",checked:h,onChange:function(){n()}}),Object(m.jsx)("span",{className:"black-text",children:"Pay if temperature rises above"})]})]})}),Object(m.jsx)("div",{className:"collection label_rich",children:Object(m.jsxs)("p",{className:"collection-item grey lighten-3",children:[Object(m.jsx)("span",{className:"badge black-text",children:Math.round(100*(y+Number.EPSILON))/100+" USD"}),"Balance"]})})]}),Object(m.jsxs)("div",{className:"col s3",children:[Object(m.jsx)("div",{className:"collection",children:Object(m.jsxs)("p",{className:"collection-item grey lighten-3",children:[Object(m.jsx)("span",{className:"badge black-text",children:O}),"Rate"]})}),Object(m.jsx)("div",{className:"collection label_rich",children:Object(m.jsxs)("p",{className:"collection-item grey lighten-3",children:[Object(m.jsx)("span",{className:"badge black-text",children:60*Math.round(Number.parseFloat(O)*Number.parseFloat(v))*24/100+" USD"}),"Amount"]})}),Object(m.jsx)("div",{className:"cont_private_label",children:Object(m.jsxs)("label",{children:[Object(m.jsx)("input",{type:"checkbox",className:"filled-in",checked:g,onChange:function(){l()}}),Object(m.jsx)("span",{className:"black-text",children:"Private (only you will see one)"})]})}),(w=t.name,""===w?Object(m.jsx)(u.b,{className:"btn register_btn grey lighten-1 black-text",to:"/login",children:"Buy"}):Object(m.jsx)("div",{className:"buy_btn btn",onClick:_,children:"Buy"}))]})]})]})),Object(m.jsxs)("div",{className:"grey lighten-3",children:[Object(m.jsx)("nav",{children:Object(m.jsx)("div",{className:"nav-wrapper",children:Object(m.jsx)("div",{className:"col s12",children:Object(m.jsx)(u.b,{to:"/",className:"breadcrumb",children:"Home"})})})}),Object(m.jsx)("table",{children:Object(m.jsx)("tr",{children:f})}),k]})})),Pe=Object(h.b)((function(e){return{loadingState:e}}),{initializeData:function(){return function(){var e=Object(j.a)(d.a.mark((function e(t,a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Oe(t,a);case 3:return e.next=5,ee(t,a);case 5:return e.next=7,fe(t,a);case 7:return e.next=9,re(t,a);case 9:he.dispatch(function(){var e=Object(j.a)(d.a.mark((function e(t,a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,xe(1e4);case 3:return e.next=5,Oe(t,a);case 5:e.next=0;break;case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),he.dispatch(function(){var e=Object(j.a)(d.a.mark((function e(t,a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,Y(1e4);case 3:return e.next=5,ee(t,a);case 5:e.next=0;break;case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),he.dispatch(function(){var e=Object(j.a)(d.a.mark((function e(t,a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,ce(1e4);case 3:re(t,a),e.next=0;break;case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),he.dispatch(function(){var e=Object(j.a)(d.a.mark((function e(t,a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,ve(1e4);case 3:return e.next=5,fe(t,a);case 5:e.next=0;break;case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),U.forEach((function(e){(new Image).src=e})),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.log("error");case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t,a){return e.apply(this,arguments)}}()}})((function(e){e.loadingState;var t=e.initializeData;return Object(c.useEffect)((function(){t()}),[]),Object(m.jsxs)(u.a,{basename:Object(h.c)((function(e){return e.auth.base})),children:[Object(m.jsx)(we,{}),Object(m.jsx)("div",{className:"App",children:Object(m.jsxs)(b.d,{children:[Object(m.jsx)(b.b,{exact:!0,path:"/",component:Ce}),Object(m.jsx)(b.b,{exact:!0,path:"/login",component:Fe}),Object(m.jsx)(b.b,{exact:!0,path:"/register",component:_e}),Object(m.jsx)(b.b,{exact:!0,path:"/about",component:ye}),Object(m.jsx)(b.b,{exact:!0,path:"/weather",component:Se}),Object(m.jsx)(b.b,{path:"/forecast/:city",component:ke}),Object(m.jsx)(b.b,{exact:!0,path:"/statistic",component:Ne}),Object(m.jsx)(b.a,{to:"/"})]})}),Object(m.jsx)(p,{})]})})),Ue=Object(i.a)({basename:"/wf"}),Ee="";console.log("NODE_ENV");var qe=/\/[a-zA-Z0-9_]*/.exec(window.location.pathname);qe&&(Ee=qe[0]),n.a.render(Object(m.jsxs)(r.a.StrictMode,{children:[Object(m.jsxs)(l.a,{children:[Object(m.jsx)("link",{href:"https://fonts.googleapis.com/icon?family=Material+Icons",rel:"stylesheet"}),Object(m.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),Object(m.jsx)("title",{children:"Forecast trading emulator"}),Object(m.jsx)("base",{href:Ee+"/"})]}),Object(m.jsx)(h.a,{store:he,children:Object(m.jsx)(Pe,{})})]}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[75,1,2]]]);
//# sourceMappingURL=main.2224e9c3.chunk.js.map