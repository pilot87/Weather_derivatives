(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{51:function(e,t,a){},77:function(e,t,a){"use strict";a.r(t);var r=a(42),c=a(43),s=a(46),n=a(45),i=a(1),l=a.n(i),d=a(20),o=a.n(d),j=(a(51),a(16)),u=a(4),h=a(14),b=a(0),m=a(15),p={name:"",email:"",token:""};try{p=JSON.parse(document.cookie)}catch(Pe){document.cookie=JSON.stringify(p)}var x={name:p.name,email:p.email,balance:0,request_params:{baseURL:"/api",timeout:3e4,headers:{"Content-Type":"application/json",Authorization:p.token}}},O=Object(m.b)({name:"auth",initialState:x,reducers:{setSession:function(e,t){var a=t.payload,r=a.name,c=a.email,s={name:r,email:c,token:"Bearer "+a.token};document.cookie=JSON.stringify(s),e.name=r,e.email=c,e.request_params={baseURL:"./api",timeout:3e4,headers:{"Content-Type":"application/json",Authorization:s.token}}},rename:function(e,t){var a=JSON.parse(document.cookie);a.name=t.payload,document.cookie=JSON.stringify(a),e.name=t.payload},updBalance:function(e,t){var a=t.payload.balance;e.balance=a}}}),g=O.actions,v=g.setSession,f=g.rename,N=g.updBalance,w=O.reducer,y=a(12),_=[a.p+"static/media/HongKong.2db06be5.jpg",a.p+"static/media/San Francisco.56cbe460.jpg",a.p+"static/media/NewYork.654f4089.jpg",a.p+"static/media/Paris.1275a43d.jpg"],k={city:{},page:new Array(_.length).fill({index:0,active:["green lighten-4","",""]})},F=Object(m.b)({name:"stats",initialState:k,reducers:{update_stat:function(e,t){for(var a=0,r=Object.entries(t.payload);a<r.length;a++){var c=Object(y.a)(r[a],2),s=c[0],n=c[1];e.city[s]=n}},page_city_push:function(e,t){e.page.push(t.payload)},page_city_change:function(e,t){e.page[t.payload.index]=t.payload.payload}}}),S=F.actions,C=S.update_stat,P=(S.page_city_push,S.page_city_change),q=F.reducer,M=a(2),T=a.n(M),R=a(6),B=a(32),H=a(27),L=Object(m.b)({name:"derivative",initialState:{daily:{},page:{city:"",temp:{temp:"0",image:"wb_sunny"},rich:!0,tempRate:"0 USD",quantity:"1",private_derivative:!0}},reducers:{init_page:function(e,t){e.page=t.payload},setCity:function(e,t){e.page.city=t.payload},setTemp:function(e,t){e.page.temp=t.payload},setRich:function(e,t){e.page.rich=t.payload},setTempRate:function(e,t){e.page.tempRate=t.payload},setQuantity:function(e,t){e.page.quantity=t.payload},setPrivate_derivative:function(e,t){e.page.private_derivative=t.payload},update_rate:function(e,t){t.payload.city in e.daily||(e.daily[t.payload.city]={temp:[],rate:[],rate2:[],expected_value:0,standard_deviation:0}),e.daily[t.payload.city]={temp:t.payload.temp,rate:t.payload.rate,rate2:t.payload.rate2,standard_deviation:t.payload.standard_deviation,expected_value:t.payload.expected_value}}}}),E=L.actions,U=E.update_rate,W=E.init_page,I=E.setCity,J=E.setTemp,Q=E.setRich,A=E.setTempRate,D=E.setQuantity,z=E.setPrivate_derivative,V=L.reducer,$=a(17).default,G=function(e){return new Promise((function(t){return setTimeout(t,e)}))},K=function(e,t,a,r){var c;return 0===e?c=a<t?0:1:(c=Math.round(1e5*function(e){var t=1/(1+.2316419*Math.abs(e)),a=.3989423*Math.exp(-e*e/2)*t*(.3193815+t*(t*(1.781478+t*(1.330274*t-1.821256))-.3565638));return e>0&&(a=1-a),a}((a-t)/e))/1e5,r||(c=1-c)),1.05*c},Y=function(e,t,a){console.log("upd"),""!==t().auth.name&&$.create(t().auth.request_params).post("./derivative/daily_params").then((function(r){r.data.stats.forEach((function(t){var a,r,c=2;do{a=[],r=[];for(var s=0;s<5;s++)a.push(t.expected_value-(2-s)*c);var n,i=Object(B.a)(a);try{for(i.s();!(n=i.n()).done;){var l=n.value,d=K(t.standard_deviation,t.expected_value,l,!0);r.push(d)}}catch(b){i.e(b)}finally{i.f()}c/=2}while(Math.max.apply(Math,Object(H.a)(r))>1);var o,j=[],u=Object(B.a)(r);try{for(u.s();!(o=u.n()).done;){var h=o.value;j.push(1-h)}}catch(b){u.e(b)}finally{u.f()}e(U({city:t.name,rate:r,rate2:j,temp:a,expected_value:t.expected_value,standard_deviation:t.standard_deviation}))})),a&&(console.log(a),e(W({city:a,temp:{temp:"0",image:"wb_sunny"},quantity:"1",tempRate:Math.round(1e4*(K(t().derivative.daily[a].standard_deviation,t().derivative.daily[a].expected_value,0,!0)+Number.EPSILON))/100+" %",private_derivative:!0,rich:!0})))})).catch((function(e){return console.log(e)}))},X=function(e,t){var a=t().derivative.page.city,r=K(t().derivative.daily[a].standard_deviation,t().derivative.daily[a].expected_value,t().derivative.page.temp.temp,t().derivative.page.rich);console.log(r),e(A(Math.round(1e4*(r+Number.EPSILON))/100+" %"))},Z=a(9),ee=a(5),te=Object(m.b)({name:"weather",initialState:{weather:{},page:{temp:{temp:"0",image:"wb_sunny"},quantity:"1",rich:!0,city:"Moscow",rate:"0 %",amount:"0 USD",hidden:!0}},reducers:{update_weather:function(e,t){e.weather=t.payload}}}),ae=te.actions.update_weather,re=te.reducer,ce=Object(m.a)({reducer:{auth:w,weather:re,derivative:V,stats:q}}),se=a(17).default,ne=a(17).default,ie=a(17).default,le=a(17).default,de=function(e){return new Promise((function(t){return setTimeout(t,e)}))},oe=function(e,t){""!==t().auth.name&&le.create(t().auth.request_params).post("./profile/balance").then((function(t){e(N(t.data))}))},je=function(){return function(){var e=Object(R.a)(T.a.mark((function e(t,a){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return oe(t,a),e.abrupt("return",Promise.resolve());case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},ue=a(17).default,he=Object(h.b)((function(){return function(e){return{stats:e.stats}}}),{page_city_change:P})((function(e){var t=e.stats,a=e.page_city_change,r=Object.entries(t.city).map((function(e,r){var c=["No futures","Quantity of futures: "+e[1].length,""];0!==e[1].length&&(c[0]=e[1].map((function(e,t){return function(e,t){return Object(b.jsx)("table",{className:[0].map((function(e){return t%2===0?"striped collection-item yellow lighten-4 grey-text text-darken-3":"striped collection-item green lighten-4 grey-text text-darken-3"}))[0],children:Object(b.jsxs)("tbody",{children:[Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:"Temperature"}),Object(b.jsx)("td",{className:"statistics_table_right",children:e.temp})]}),Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:"Quantity"}),Object(b.jsx)("td",{className:"statistics_table_right",children:e.quantity})]}),Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:"Duration"}),Object(b.jsx)("td",{className:"statistics_table_right",children:e.duration})]}),Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:"Duration left"}),Object(b.jsx)("td",{className:"statistics_table_right",children:e.duration_left})]}),Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:"Buyer's email"}),Object(b.jsx)("td",{className:"statistics_table_right",children:e.email})]})]})})}(e,t)}))),void 0===t.page[r]&&window.location.replace("about");var s=[];return s.push(Object(b.jsxs)("div",{className:"card",children:[Object(b.jsxs)("div",{className:"card-image",children:[Object(b.jsx)("img",{className:"statistics_img",src:_[r],alt:e[0]}),Object(b.jsx)("span",{className:"card-title",children:e[0]})]}),Object(b.jsx)("div",{className:"card-tabs",children:Object(b.jsxs)("ul",{className:"tabs tabs-fixed-width",children:[Object(b.jsx)("li",{className:"tab statistics_pointer",onClick:function(){a({index:r,payload:{index:0,active:["green lighten-4","",""]}})},children:Object(b.jsx)("p",{className:t.page[r].active[0],children:"Futures"})}),Object(b.jsx)("li",{className:"tab statistics_pointer",onClick:function(){a({index:r,payload:{index:1,active:["","green lighten-4",""]}})},children:Object(b.jsx)("p",{className:t.page[r].active[1],children:"Statistic"})})]})})]})),s.concat(c[t.page[r].index])})),c=[],s=0;do{c.push(Object(b.jsx)("tr",{children:r.map((function(e){return e.length>s?Object(b.jsx)("td",{className:"",children:e[s]}):Object(b.jsx)("td",{})}))})),s++}while(Math.max.apply(Math,Object(H.a)(r.map((function(e){return e.length}))))>s);return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("nav",{children:Object(b.jsx)("div",{className:"nav-wrapper",children:Object(b.jsxs)("div",{className:"col s12",children:[Object(b.jsx)("a",{href:"./",className:"breadcrumb",children:"Home"}),Object(b.jsx)("a",{href:"./statistic",className:"breadcrumb",children:"Statistic"})]})})}),Object(b.jsx)("table",{children:Object(b.jsx)("tbody",{children:c})})]})})),be=Object(h.b)((function(){return function(e){return{auth:e.auth}}}))((function(e){var t=e.auth.name;return""===t?Object(b.jsx)("nav",{children:Object(b.jsxs)("div",{className:"nav-wrapper",children:[Object(b.jsx)("a",{href:"/",className:"brand-logo",children:"Forecast Trading"}),Object(b.jsx)("ul",{id:"nav-mobile",className:"right hide-on-med-and-down",children:Object(b.jsx)("li",{children:Object(b.jsx)(j.b,{to:"/login",children:"Hello, Guest!"})})})]})}):Object(b.jsx)("nav",{children:Object(b.jsxs)("div",{className:"nav-wrapper",children:[Object(b.jsx)("a",{href:"./",className:"brand-logo",children:"Forecast Trading"}),Object(b.jsxs)("ul",{id:"nav-mobile",className:"right hide-on-med-and-down",children:[Object(b.jsx)("li",{children:Object(b.jsx)(j.b,{to:"./weather",children:"Weather"})}),Object(b.jsx)("li",{children:Object(b.jsx)(j.b,{to:"./statistic",children:"Statistic"})}),Object(b.jsx)("li",{children:Object(b.jsx)(j.b,{to:"./futures",children:"Futures"})}),Object(b.jsx)("li",{children:Object(b.jsxs)(j.b,{to:"./about",children:["Hello, ",t,"!"]})})]})]})})})),me=Object(h.b)((function(){return function(e){return{auth:e.auth}}}),{rename:f,setSession:v})((function(e){var t=e.auth,a=e.rename,r=e.setSession,c=Object(i.useState)({username:{msg:"",state:""},password:{msg:"",state:""}}),s=Object(y.a)(c,2),n=s[0],l=s[1],d=Object(i.useState)({message:"",color:"gray"}),o=Object(y.a)(d,2),j=o[0],u=o[1],h=Object(i.useState)({message:"",color:"gray"}),m=Object(y.a)(h,2),p=m[0],x=m[1],O=function(e){l(Object(ee.a)(Object(ee.a)({},n),{},Object(Z.a)({},e.target.name,{msg:e.target.value,state:" active"})))},g=function(e){l(Object(ee.a)(Object(ee.a)({},n),{},Object(Z.a)({},e.target.name,{msg:e.target.value,state:" active"})))},v=function(e){""===e.target.value&&l(Object(ee.a)(Object(ee.a)({},n),{},Object(Z.a)({},e.target.name,{msg:e.target.value,state:""})))},f=ie.create(t.request_params);return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("nav",{children:Object(b.jsx)("div",{className:"nav-wrapper",children:Object(b.jsxs)("div",{className:"col s12",children:[Object(b.jsx)("a",{href:"./",className:"breadcrumb",children:"Home"}),Object(b.jsx)("a",{href:"./about",className:"breadcrumb",children:"About"})]})})}),Object(b.jsxs)("div",{className:"row about_container",children:[Object(b.jsx)("div",{className:"row",children:Object(b.jsxs)("div",{className:"collection about_internal_container",children:[Object(b.jsx)("p",{className:"collection-item black-text",children:"Email:    "+t.email}),Object(b.jsx)("p",{className:"collection-item black-text",children:"Username: "+t.name})]})}),Object(b.jsx)("form",{className:"col s12",children:Object(b.jsx)("div",{className:"row",children:Object(b.jsxs)("div",{className:"input-field col s6",children:[Object(b.jsx)("i",{className:"material-icons prefix",children:"border_color"}),Object(b.jsx)("input",{id:"username",name:"username",type:"text",value:n.username.msg,onChange:O,onFocus:g,onBlur:v}),Object(b.jsx)("label",{htmlFor:"username",className:"username"+n.username.state,children:"New username"})]})})}),Object(b.jsx)("div",{className:"card-action",children:Object(b.jsx)("button",{className:"btn about_btn green lighten-2 black-text",onClick:function(){f.post("./profile/rename",{username:n.username.msg}).then((function(e){a(e.data.username),u({message:"Welcome, "+e.data.username+"!",color:"green"})})).catch((function(e){return u({message:e.response.data.message,color:"red"})}))},children:"Change username"})}),Object(b.jsx)("div",{className:"alert "+j.color+"-text text-lighten-1",children:j.message}),Object(b.jsx)("form",{className:"col s12",children:Object(b.jsx)("div",{className:"row",children:Object(b.jsxs)("div",{className:"input-field col s6",children:[Object(b.jsx)("i",{className:"material-icons prefix",children:"more_horiz"}),Object(b.jsx)("input",{id:"password",name:"password",type:"password",value:n.password.msg,onChange:O,onFocus:g,onBlur:v}),Object(b.jsx)("label",{htmlFor:"password",className:"password"+n.password.state,children:"New password"})]})})}),Object(b.jsx)("div",{className:"card-action",children:Object(b.jsx)("button",{className:"btn about_btn green lighten-2 black-text",onClick:function(){f.post("./profile/chpasswd",{password:n.password.msg}).then((function(e){x({message:"Password has changed",color:"green"})})).catch((function(e){return x({message:e.response.data.message,color:"red"})}))},children:"Change password"})}),Object(b.jsx)("div",{className:"alert "+p.color+"-text text-lighten-1",children:p.message}),Object(b.jsx)("div",{className:"card-action about_card_btn",children:Object(b.jsx)("button",{className:"btn about_btn green lighten-2 black-text",onClick:function(){r({email:"",name:"",token:""}),window.location.replace("login")},children:"Logout"})})]})]})})),pe=Object(h.b)((function(){return function(e){return{auth:e.auth}}}))((function(e){var t=e.auth,a=Object(i.useState)({email:{msg:"",state:"adduser_label"},password:{msg:"",state:"adduser_label"},username:{msg:"",state:"adduser_label"}}),r=Object(y.a)(a,2),c=r[0],s=r[1],n=Object(i.useState)({message:"",color:"gray",errors:{email:"",password:"",username:""}}),l=Object(y.a)(n,2),d=l[0],o=l[1],j=function(e){s(Object(ee.a)(Object(ee.a)({},c),{},Object(Z.a)({},e.target.name,{msg:e.target.value,state:"adduser_label active"})))},u=function(e){s(Object(ee.a)(Object(ee.a)({},c),{},Object(Z.a)({},e.target.name,{msg:e.target.value,state:"adduser_label active"})))},h=function(e){""===e.target.value&&s(Object(ee.a)(Object(ee.a)({},c),{},Object(Z.a)({},e.target.name,{msg:e.target.value,state:"adduser_label"})))},m=ne.create(t.request_params),p=function(){var e=Object(R.a)(T.a.mark((function e(){var t;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=function(e){var t={email:"",password:"",username:""},a=e.find((function(e){return"email"===e.param}));a&&(t.email=a.msg);var r=e.find((function(e){return"username"===e.param}));r&&(t.username=r.msg);var c=e.find((function(e){return"password"===e.param}));return c&&(t.password=c.msg),t},m.post("./auth/register",{email:c.email.msg,username:c.username.msg,password:c.password.msg}).then((function(e){o({message:e.data.message,color:"green",errors:{email:"",password:"",username:""}}),window.location.replace("login")})).catch((function(e){return o({message:null!=e.response.data?e.response.data.message:e.data.message,color:"red",errors:e.response&&e.response.data.errors?t(e.response.data.errors):{email:"",password:"",username:""}})}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("nav",{children:Object(b.jsx)("div",{className:"nav-wrapper",children:Object(b.jsxs)("div",{className:"col s12",children:[Object(b.jsx)("a",{href:"./",className:"breadcrumb",children:"Home"}),Object(b.jsx)("a",{href:"./register",className:"breadcrumb",children:"Register"})]})})}),Object(b.jsxs)("form",{action:"../.html",className:"col autocomplete-content s12",children:[Object(b.jsxs)("div",{className:"row",children:[Object(b.jsxs)("div",{className:"input-field col s6",children:[Object(b.jsx)("i",{className:"material-icons prefix",children:"email"}),Object(b.jsx)("input",{id:"email",name:"email",type:"text",value:c.email.msg,onChange:j,onFocus:u,onBlur:h}),Object(b.jsx)("label",{htmlFor:"email",className:c.email.state,children:"Email"})]}),Object(b.jsx)("div",{className:"row adduser_error",children:d.errors.email})]}),Object(b.jsxs)("div",{className:"row",children:[Object(b.jsxs)("div",{className:"input-field col s6",children:[Object(b.jsx)("i",{className:"material-icons prefix",children:"border_color"}),Object(b.jsx)("input",{id:"username",name:"username",type:"text",value:c.username.msg,onChange:j,onFocus:u,onBlur:h}),Object(b.jsx)("label",{htmlFor:"username",className:c.username.state,children:"User name"})]}),Object(b.jsx)("div",{className:"row adduser_error",children:d.errors.username})]}),Object(b.jsxs)("div",{className:"row",children:[Object(b.jsxs)("div",{className:"input-field col s6",children:[Object(b.jsx)("i",{className:"material-icons prefix",children:"more_horiz"}),Object(b.jsx)("input",{id:"password",name:"password",type:"password",value:c.password.msg,onChange:j,onFocus:u,onBlur:h}),Object(b.jsx)("label",{htmlFor:"password",className:c.password.state,children:"Password"})]}),Object(b.jsx)("div",{className:"row adduser_error",children:d.errors.password})]})]}),Object(b.jsx)("div",{className:"card-action",children:Object(b.jsx)("button",{className:"btn adduser_btn green lighten-2 black-text",onClick:p,children:"Register new User"})}),Object(b.jsx)("br",{}),Object(b.jsx)("div",{className:"alert adduser_alert "+d.color+"-text text-lighten-1",children:d.message})]})})),xe=Object(h.b)((function(){return function(e){return{weather:e.weather}}}))((function(e){var t=e.weather,a=Object(u.g)().city,r=Object(b.jsx)("div",{className:"progress",children:Object(b.jsx)("div",{className:"indeterminate"})});return void 0!==t.weather[a]&&(r=t.weather[a].hourly_temp.map((function(e,r){return Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:3*r}),Object(b.jsx)("td",{children:t.weather[a].hourly_temp[r]}),Object(b.jsx)("td",{children:t.weather[a].hourly_wind_speed[r]}),Object(b.jsx)("td",{children:t.weather[a].hourly_clouds[r]}),Object(b.jsx)("td",{children:t.weather[a].hourly_pressure[r]}),Object(b.jsx)("td",{children:t.weather[a].hourly_humidity[r]}),Object(b.jsx)("td",{children:t.weather[a].hourly_visibility[r]})]})}))),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("nav",{children:Object(b.jsx)("div",{className:"nav-wrapper",children:Object(b.jsxs)("div",{className:"col s12",children:[Object(b.jsx)("a",{href:"./",className:"breadcrumb",children:"Home"}),Object(b.jsx)("a",{href:"./weather",className:"breadcrumb",children:"Weather"}),Object(b.jsx)("a",{href:"#",className:"breadcrumb",children:"Forecast for "+a})]})})}),Object(b.jsxs)("table",{children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{children:"Hours"}),Object(b.jsx)("th",{children:"Temperature"}),Object(b.jsx)("th",{children:"Wind speed"}),Object(b.jsx)("th",{children:"Cloudiness"}),Object(b.jsx)("th",{children:"Pressure"}),Object(b.jsx)("th",{children:"Humidity"}),Object(b.jsx)("th",{children:"Visibility"})]})}),Object(b.jsx)("tbody",{children:r})]})]})})),Oe=Object(h.b)((function(){return function(e){return{weather:e.weather}}}))((function(e){var t=e.weather,a=Object.entries(t.weather).map((function(e,t){return Object(b.jsx)("td",{onClick:function(){return window.location.replace("/forecast/"+e[0])},children:Object(b.jsxs)("div",{className:"card",children:[Object(b.jsxs)("div",{className:"card-image",children:[Object(b.jsx)("img",{src:_[t],alt:e[0],className:"weather_img"}),Object(b.jsx)("span",{className:"card-title",children:e[0]})]}),Object(b.jsx)("div",{className:"card-content",children:Object(b.jsx)("table",{children:Object(b.jsxs)("tbody",{children:[Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:"Temperature"}),Object(b.jsx)("td",{className:"weather_table_right",children:Math.round(100*(e[1].current_temp+Number.EPSILON))/100+" \xb0\u0421"})]}),Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:"Wind speed"}),Object(b.jsx)("td",{className:"weather_table_right",children:e[1].current_wind_speed+" meter/sec"})]}),Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:"Cloudiness"}),Object(b.jsx)("td",{className:"weather_table_right",children:e[1].current_clouds+" %"})]}),Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:"Pressure"}),Object(b.jsx)("td",{className:"weather_table_right",children:e[1].current_pressure+" hPa"})]}),Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:"Humidity"}),Object(b.jsx)("td",{className:"weather_table_right",children:e[1].current_humidity+" %"})]}),Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:"Visibility"}),Object(b.jsx)("td",{className:"weather_table_right",children:e[1].current_visibility+" metres"})]})]})})})]})})}));return a===[]&&(a=Object(b.jsx)("div",{className:"progress",children:Object(b.jsx)("div",{className:"indeterminate"})})),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("nav",{children:Object(b.jsx)("div",{className:"nav-wrapper",children:Object(b.jsxs)("div",{className:"col s12",children:[Object(b.jsx)("a",{href:"./",className:"breadcrumb",children:"Home"}),Object(b.jsx)("a",{href:"./weather",className:"breadcrumb",children:"Weather"})]})})}),Object(b.jsx)("table",{children:Object(b.jsx)("tr",{children:a})})]})})),ge=Object(h.b)((function(){return function(e){return{auth:e.auth}}}))((function(e){var t=e.auth;console.log(t);var a=Object(i.useState)({email:{msg:"",state:""},password:{msg:"",state:""}}),r=Object(y.a)(a,2),c=r[0],s=r[1],n=Object(i.useState)({message:"",color:"gray"}),l=Object(y.a)(n,2),d=l[0],o=l[1],j=function(e){s(Object(ee.a)(Object(ee.a)({},c),{},Object(Z.a)({},e.target.name,{msg:e.target.value,state:" active"})))},u=function(e){s(Object(ee.a)(Object(ee.a)({},c),{},Object(Z.a)({},e.target.name,{msg:e.target.value,state:" active"})))},h=function(e){""===e.target.value&&s(Object(ee.a)(Object(ee.a)({},c),{},Object(Z.a)({},e.target.name,{msg:e.target.value,state:""})))},m=se.create(t.request_params);return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("nav",{children:Object(b.jsx)("div",{className:"nav-wrapper",children:Object(b.jsxs)("div",{className:"col s12",children:[Object(b.jsx)("a",{href:"./",className:"breadcrumb",children:"Home"}),Object(b.jsx)("a",{href:"./login",className:"breadcrumb",children:"Login"})]})})}),Object(b.jsxs)("div",{className:"row login_cont",children:[Object(b.jsx)("form",{className:"col s12",children:Object(b.jsxs)("div",{className:"row",children:[Object(b.jsxs)("div",{className:"input-field col s6",children:[Object(b.jsx)("i",{className:"material-icons prefix",children:"email"}),Object(b.jsx)("input",{id:"email",name:"email",type:"text",value:c.email.msg,onChange:j,onFocus:u,onBlur:h}),Object(b.jsx)("label",{htmlFor:"email",className:"email"+c.email.state,children:"Email"})]}),Object(b.jsxs)("div",{className:"input-field col s6",children:[Object(b.jsx)("i",{className:"material-icons prefix",children:"more_horiz"}),Object(b.jsx)("input",{id:"password",name:"password",type:"password",value:c.password.msg,onChange:j,onFocus:u,onBlur:h}),Object(b.jsx)("label",{htmlFor:"password",className:"password"+c.password.state,children:"Password"})]})]})}),Object(b.jsxs)("div",{className:"card-action",children:[Object(b.jsx)("button",{className:"btn login_btn green lighten-2 black-text",onClick:function(){m.post("./auth/login",{email:c.email.msg,password:c.password.msg}).then((function(e){ce.dispatch(v({email:e.data.email,name:e.data.username,token:e.data.token})),o({message:"Welcome, "+e.data.username+"!",color:"green"}),window.location.replace("about")})).catch((function(e){return o({message:e.response.data?e.response.data.message:e.data.message,color:"red"})}))},children:"Login"}),Object(b.jsx)("a",{className:"btn register_btn grey lighten-1 black-text",href:"./register",children:"Register new User"})]}),Object(b.jsx)("div",{className:"alert login_alert "+d.color+"-text text-lighten-1",children:d.message})]})]})})),ve=Object(h.b)((function(){return function(e){return{auth:e.auth,weather0:e.weather,derivative0:e.derivative}}}),{changeCity:function(e){return function(){var t=Object(R.a)(T.a.mark((function t(a,r){return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a(I(e)),X(a,r);case 2:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()},changeTemp:function(e){return function(){var t=Object(R.a)(T.a.mark((function t(a,r){return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:/^(-?[0-9]*\.?[0-9]*)$/.test(e.target.value)&&("NaN"===Number.parseFloat(e.target.value).toString()?"-"===e.target.value?(a(J({temp:"-0",image:"ac_unit"})),X(a,r)):"."===e.target.value?(a(J({temp:"0.",image:"wb_sunny"})),X(a,r)):""===e.target.value?(a(J({temp:"0",image:"wb_sunny"})),X(a,r)):(a(J({temp:e.target.value,image:"border_color"})),X(a,r)):(console.log(e.target.value),Number.parseFloat(e.target.value)<0?(a(J({temp:e.target.value,image:"ac_unit"})),X(a,r)):(a(J({temp:e.target.value,image:"wb_sunny"})),X(a,r))));case 1:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()},changeRich:function(){return function(){var e=Object(R.a)(T.a.mark((function e(t,a){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(Q(!a().derivative.page.rich)),X(t,a);case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},changeQuantity:function(e){return function(){var t=Object(R.a)(T.a.mark((function t(a,r){return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:/^[1-9][0-9]*$/.test(e.target.value)&&a(D(e.target.value)),X(a,r);case 2:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()},changePrivate_derivative:function(){return function(){var e=Object(R.a)(T.a.mark((function e(t,a){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(z(!a().derivative.page.private_derivative)),X(t,a);case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()}})((function(e){var t=e.auth,a=e.weather0,r=e.derivative0,c=e.changeCity,s=e.changeTemp,n=e.changeRich,i=e.changeQuantity,l=e.changePrivate_derivative,d=r.page.city,o=r.page.temp,j=r.page.rich,u=ue.create(t.request_params),h=r.daily[d],m=r.page.tempRate,p=r.page.private_derivative,x=r.page.quantity,O=Object(b.jsx)("div",{className:"progress",children:Object(b.jsx)("div",{className:"indeterminate"})});void 0!==a.weather&&(O=Object.entries(a.weather).map((function(e,t){return Object(b.jsx)("td",{onClick:function(){c(e[0])},children:Object(b.jsx)("div",{className:"card",children:Object(b.jsxs)("div",{className:"card-image",children:[Object(b.jsx)("img",{className:"futures_img",src:_[t],alt:e[0]}),Object(b.jsx)("span",{className:"card-title",children:e[0]})]})})})})));var g=Object(b.jsx)("div",{className:"progress",children:Object(b.jsx)("div",{className:"indeterminate"})});void 0!==h&&(g=h.temp.map((function(e,t){return Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:Math.round(100*(e+Number.EPSILON))/100+" \xb0C"}),Object(b.jsx)("td",{className:"text_center",children:Math.round(1e3*(h.rate[t]+Number.EPSILON))/10+" %"}),Object(b.jsx)("td",{className:"text_right",children:Math.round(1e3*(h.rate2[t]+Number.EPSILON))/10+" %"})]})})));var v=t.balance,f=Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h4",{className:"grey-text text-darken-3",children:d}),Object(b.jsx)("div",{className:"progress",children:Object(b.jsx)("div",{className:"indeterminate"})})]});return""!==d&&(f=Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h4",{className:"grey-text text-darken-3",children:d}),Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("div",{className:"col s3",children:Object(b.jsx)("table",{children:Object(b.jsxs)("tbody",{children:[Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:"Temperature"}),Object(b.jsx)("td",{className:"text_right",children:Math.round(100*(a.weather[d].current_temp+Number.EPSILON))/100+" \xb0C"})]}),Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:"Wind speed"}),Object(b.jsx)("td",{className:"text_right",children:a.weather[d].current_wind_speed+" meter/sec"})]}),Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:"Cloudiness"}),Object(b.jsx)("td",{className:"text_right",children:a.weather[d].current_clouds+" %"})]}),Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:"Pressure"}),Object(b.jsx)("td",{className:"text_right",children:a.weather[d].current_pressure+" hPa"})]}),Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:"Humidity"}),Object(b.jsx)("td",{className:"text_right",children:a.weather[d].current_humidity+" %"})]}),Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:"Visibility"}),Object(b.jsx)("td",{className:"text_right",children:a.weather[d].current_visibility+" metres"})]})]})})}),Object(b.jsx)("div",{className:"col s3",children:Object(b.jsxs)("table",{children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{children:"Temperature"}),Object(b.jsx)("th",{className:"text_center",children:"Reach rate"}),Object(b.jsx)("th",{className:"text_right",children:"Not reach rate"})]})}),Object(b.jsx)("tbody",{children:g})]})}),Object(b.jsxs)("div",{className:"col s3",children:[Object(b.jsx)("div",{className:"row",children:Object(b.jsxs)("div",{className:"input-field col s12",children:[Object(b.jsx)("i",{className:"material-icons prefix",children:o.image}),Object(b.jsx)("input",{id:"temp",name:"temp",type:"text",value:o.temp,onChange:function(){var e=Object(R.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onFocus:function(e){return e.target.select()}}),Object(b.jsx)("label",{htmlFor:"temp",className:"active label_temperature grey-text text-darken-3",children:"Temperature [\xb0C]"})]})}),Object(b.jsx)("div",{className:"row",children:Object(b.jsxs)("div",{className:"input-field col s12",children:[Object(b.jsx)("i",{className:"material-icons prefix",children:"border_color"}),Object(b.jsx)("input",{id:"quantity",name:"quantity",type:"text",value:x,onChange:function(e){i(e)},onFocus:function(e){return e.target.select()}}),Object(b.jsx)("label",{htmlFor:"quantity",className:"active label_quantity grey-text text-darken-3",children:"Quantity"}),Object(b.jsxs)("label",{className:"label_rich",children:[Object(b.jsx)("input",{type:"checkbox",className:"filled-in",checked:j,onChange:function(){n()}}),Object(b.jsx)("span",{className:"grey-text text-darken-3",children:"Pay if temperature rises above"})]})]})}),Object(b.jsx)("div",{className:"collection label_rich",children:Object(b.jsxs)("p",{className:"collection-item grey lighten-3 grey-text text-darken-3",children:[Object(b.jsx)("span",{className:"badge",children:Math.round(100*(v+Number.EPSILON))/100+" USD"}),"Balance"]})})]}),Object(b.jsxs)("div",{className:"col s3",children:[Object(b.jsx)("div",{className:"collection",children:Object(b.jsxs)("p",{className:"collection-item grey lighten-3 grey-text text-darken-3",children:[Object(b.jsx)("span",{className:"badge",children:m}),"Rate"]})}),Object(b.jsx)("div",{className:"collection label_rich",children:Object(b.jsxs)("p",{className:"collection-item grey lighten-3 grey-text text-darken-3",children:[Object(b.jsx)("span",{className:"badge",children:60*Math.round(Number.parseFloat(m)*Number.parseFloat(x))*24/100+" USD"}),"Amount"]})}),Object(b.jsx)("div",{className:"cont_private_label",children:Object(b.jsxs)("label",{children:[Object(b.jsx)("input",{type:"checkbox",className:"filled-in",checked:p,onChange:function(){l()}}),Object(b.jsx)("span",{className:"grey-text text-darken-3",children:"Private (only you will see one)"})]})}),Object(b.jsx)("div",{className:"buy_btn btn",onClick:function(){u.post("./derivative/buy",{city:d,duration:1440,temp:Number.parseFloat(o.temp),rich:j,quantity:Number.parseFloat(x),hidden:p}).then((function(){ce.dispatch(je())}))},children:"Buy"})]})]})]})),Object(b.jsxs)("div",{className:"grey lighten-3",children:[Object(b.jsx)("nav",{children:Object(b.jsx)("div",{className:"nav-wrapper",children:Object(b.jsxs)("div",{className:"col s12",children:[Object(b.jsx)("a",{href:"./",className:"breadcrumb",children:"Home"}),Object(b.jsx)("a",{href:"./futures",className:"breadcrumb",children:"Futures"})]})})}),Object(b.jsx)("table",{children:Object(b.jsx)("tr",{children:O})}),f]})})),fe=function(){return Object(b.jsxs)(j.a,{basename:"/forecast",children:[Object(b.jsx)(be,{}),Object(b.jsx)("div",{className:"App",children:Object(b.jsxs)(u.d,{children:[Object(b.jsx)(u.b,{exact:!0,path:"./",render:function(){return Object(b.jsx)("nav",{children:Object(b.jsx)("div",{className:"nav-wrapper",children:Object(b.jsx)("div",{className:"col s12",children:Object(b.jsx)("p",{className:"breadcrumb",children:"Home"})})})})}}),Object(b.jsx)(u.b,{exact:!0,path:"./login",component:ge}),Object(b.jsx)(u.b,{exact:!0,path:"./register",component:pe}),Object(b.jsx)(u.b,{exact:!0,path:"./about",component:me}),Object(b.jsx)(u.b,{exact:!0,path:"./weather",component:Oe}),Object(b.jsx)(u.b,{path:"./forecast/:city",component:xe}),Object(b.jsx)(u.b,{exact:!0,path:"./futures",component:ve}),Object(b.jsx)(u.b,{exact:!0,path:"./statistic",component:he}),Object(b.jsx)(u.a,{to:"./"})]})})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ne=a(17).default,we=function(e){return new Promise((function(t){return setTimeout(t,e)}))},ye=function(e,t){""!==t().auth.name&&Ne.create(t().auth.request_params).post("./derivative/stats").then((function(t){e(C(t.data.stats))})).catch((function(e){return console.log(e)}))},_e=a(17).default,ke=function(e){return new Promise((function(t){return setTimeout(t,e)}))},Fe=function(e,t){""!==t().auth.name&&_e.create(t().auth.request_params).post("./weather/update").then((function(a){e(ae(a.data)),""===t().derivative.page.city&&function(e,t){var a=Object.keys(t().weather.weather)[0];console.log("try "+a),Y(e,t,a)}(e,t)}))},Se=document.head,Ce=function(e){Object(s.a)(a,e);var t=Object(n.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return o.a.createPortal(this.props.children,Se)}}]),a}(l.a.Component);ce.dispatch(function(){var e=Object(R.a)(T.a.mark((function e(t,a){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("updateWeather 0"),Fe(t,a),console.log("updateWeather 1");case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()).then((function(){return ce.dispatch(function(){var e=Object(R.a)(T.a.mark((function e(t,a){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ye(t,a),e.abrupt("return",Promise.resolve());case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}())})).then((function(){return ce.dispatch(je())})).then((function(){ce.dispatch(function(){var e=Object(R.a)(T.a.mark((function e(t,a){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,ke(1e4);case 3:Fe(t,a),e.next=0;break;case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),ce.dispatch(function(){var e=Object(R.a)(T.a.mark((function e(t,a){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,G(1e4);case 3:Y(t,a),e.next=0;break;case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),ce.dispatch(function(){var e=Object(R.a)(T.a.mark((function e(t,a){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,de(1e4);case 3:oe(t,a),e.next=0;break;case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),ce.dispatch(function(){var e=Object(R.a)(T.a.mark((function e(t,a){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,we(1e4);case 3:ye(t,a),e.next=0;break;case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),o.a.render(Object(b.jsxs)(l.a.StrictMode,{children:[Object(b.jsxs)(Ce,{children:[Object(b.jsx)("link",{href:"https://fonts.googleapis.com/icon?family=Material+Icons",rel:"stylesheet"}),Object(b.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),Object(b.jsx)("title",{children:"My Page"}),Object(b.jsx)("base",{href:"%PUBLIC_URL%/"})]}),Object(b.jsx)(h.a,{store:ce,children:Object(b.jsx)(fe,{})})]}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))})).catch((function(e){console.log(e)}))}},[[77,1,2]]]);
//# sourceMappingURL=main.c3f42342.chunk.js.map